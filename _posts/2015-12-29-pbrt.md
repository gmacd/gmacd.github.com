---
layout: post
title: "PBRT Fork"
date: 2015-12-29 22:35
cover: cover.jpg
comments: true
categories: [rendering]
---
A few years ago (4, according to Amazon), I bought a copy of [Physically Based Rendering](http://www.amazon.co.uk/Physically-Based-Rendering-Matt-Pharr/dp/0123750792) (second edition).  This book describes the detailed structure of a physically-based rendering system, in a literate programming style.  The book website can be found [here](http://pbrt.org/).  Crucially, the source for the full renderer has been published ([on Github, here](https://github.com/mmp/pbrt-v2)).  Additionally, at the end of each chapter is a set of exercises which involve extending or optimising the existing code.

I've not done much with the book over the years, but while looking for a little project, I thought working through some of the exercises and hopefully taking it in a direction of my own might be a good choice.

With that in mind, I forked the second version of the project ([https://github.com/gmacd/pbrt-v2](here)), and have made a few initial changes:

* Removed the external dependency on OpenEXR, replacing it with TinyEXR, a single header implementation.
* Removed TIFF export.
* Changed some formatting according to my tastes/whims.
* Added a unit test runner.

I also completed exercise 2.1, implementing a more efficient method for transforming AABBs, along with a couple of simple unit tests.  This method is describe in 'Transforming Axis-Aligned Bounding Boxes' by James Arvo, in Graphics Gems I.

The next exercise is to rewrite some of the geometry code using SIMD extensions.
